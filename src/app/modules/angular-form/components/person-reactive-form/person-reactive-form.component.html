<div class="reactive-form">
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <div>
                    <label>First Name:</label>
                    <input type="text" formControlName="firstName" required>
                </div>
                <div class="form-errors" *ngIf="profileForm.controls.firstName.errors  && (profileForm.controls.firstName.dirty || profileForm.controls.firstName.touched)">
                    <div [hidden]="!profileForm.controls.firstName.errors.required">
                      First name field required
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div>
                    <label>Last Name:</label>
                    <input type="text" formControlName="lastName" required>
                </div>
                <div class="form-errors" *ngIf="profileForm.controls.lastName.errors  && (profileForm.controls.lastName.dirty || profileForm.controls.lastName.touched)">
                    <div [hidden]="!profileForm.controls.lastName.errors.required">
                      Last name field required
                    </div>
                </div>
            </div>
        <div>
            <h4>Address:</h4>
        </div>
        <div formArrayName="addresses" *ngFor="let address of profileForm.get('addresses').controls; let i = index;">
            <div [formGroupName]="i">
                <div class="row">
                    <div class="col-md-3">
            <div class="form-group">
                        <label>City:</label>
                        <input type="text" formControlName="city" />
        </div>
                    </div>
                    <div class="col-md-3">
            <div class="form-group">
                        <label>State:</label>
                        <input type="text" formControlName="state" />
        </div>
                    </div>
                    <div class="col-md-3">
            <div class="form-group">
                        <label>Country:</label>
                        <input type="text" formControlName="country" />
        </div>
                    </div>
                    <div class="col-md-3 action-div">
                        <div *ngIf="i === profileForm.get('addresses').controls.length-1">
                            <button 
                            type="button" 
                            class="btn btn-link" 
                            (click)="addAddress()">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                            </button>
                        </div>
                        <div *ngIf="i">
                            <button 
                            type="button" 
                            class="btn btn-link" 
                            (click)="deleteAddress(i)">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button class="btn btn-primary" type="submit" [disabled]="!profileForm.valid" >Save</button>
    </form>
</div>